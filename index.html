<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Galaxy Bypass Yeumoney</title>
  <style>
    :root {
      --main-color: #00ffe7;
      --bg-color: #0a0f2c;
      --text-color: #ffffff;
    }

    body {
      background: radial-gradient(ellipse at center, var(--bg-color) 0%, #000 100%);
      color: var(--main-color);
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem 1rem;
      min-height: 100vh;
      text-align: center;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 1rem;
      text-shadow: 0 0 10px var(--main-color), 0 0 20px var(--main-color);
    }

    select, button {
      padding: 0.8rem 1.2rem;
      font-size: 1rem;
      margin: 0.5rem;
      background: var(--main-color);
      border: none;
      border-radius: 8px;
      color: #000;
      cursor: pointer;
      transition: 0.2s;
      max-width: 100%;
      width: 300px;
    }

    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .timer {
      font-size: 1.2rem;
      margin-top: 1rem;
    }

    .progress-bar {
      margin-top: 0.5rem;
      width: 100%;
      max-width: 320px;
      height: 10px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 5px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      background: var(--main-color);
      transition: width 0.2s linear;
    }

    .code-box {
      margin-top: 2rem;
      padding: 1rem;
      background: rgba(0,255,231,0.1);
      border: 1px solid var(--main-color);
      border-radius: 8px;
      display: none;
      width: 90%;
      max-width: 360px;
    }

    .copy-btn {
      margin-top: 0.8rem;
      background: var(--main-color);
      color: #000;
    }

    @media (min-width: 600px) {
      h1 {
        font-size: 2.4rem;
      }
    }
  </style>
</head>
<body>
  <h1>üöÄ Get M√£ Yeumoney</h1>
  <select id="missionSelect">
    <option value="">-- Ch·ªçn t·ª´ kh√≥a nhi·ªám v·ª• --</option>
    <option value="36">Nhi·ªám v·ª• vn88</option>
    <option value="66">Nhi·ªám v·ª• w88 w88xlm</option>
    <option value="67">Nhi·ªám v·ª• fun88</option>
    <option value="23">Nhi·ªám v·ª• v9bet</option>
    <option value="30">Nhi·ªám v·ª• w88</option>
    <option value="37">Nhi·ªám v·ª• fb88</option>
    <option value="41">Nhi·ªám v·ª• bk8</option>
    <option value="44">Nhi·ªám v·ª• m88</option>
    <option value="42">Nhi·ªám v·ª• 188bet</option>
  </select>
  <button id="startBtn" onclick="startMission()">B·∫Øt ƒë·∫ßu get m√£</button>

  <div class="timer" id="countdown"></div>
  <div class="progress-bar"><div class="progress-fill" id="progressBar"></div></div>

  <div class="code-box" id="codeBox">
    <div><strong>M√£ x√°c nh·∫≠n:</strong> <span id="codeValue">...</span></div>
    <button class="copy-btn" onclick="copyCode()">Copy</button>
  </div>

  <script>
    const missions = {
      "36": {
        urlChinh: "https://vn88ie.com/",
        urlBaiViet: "https://vn88ie.com/cach-choi-power-6-55/"
      },
      "66": {
        urlChinh: "https://w88xlm.com/",
        urlBaiViet: "https://w88xlm.com/cach-choi-bai-solitaire/"
      },
      "67": {
        urlChinh: "https://fun88op.com/",
        urlBaiViet: "https://fun88op.com/thuat-ngu-ca-do-bong-da-truc-tuyen/"
      },
      "23": {
        urlChinh: "https://v9betlg.com/",
        urlBaiViet: "https://v9betlg.com/cach-choi-ca-cuoc-dua-mo-to-gia-lap/"
      },
      "30": {
        urlChinh: "https://188.166.185.213/",
        urlBaiViet: "https://188.166.185.213/bai-rac-trong-poker/"
      },
      "37": {
        urlChinh: "https://fb88mg.com/",
        urlBaiViet: "https://fb88mg.com/cach-choi-ca-cuoc-dien-kinh/"
      },
      "41": {
        urlChinh: "https://bk8xo.com/",
        urlBaiViet: "https://bk8xo.com/cach-choi-domino-qq/"
      },
      "44": {
        urlChinh: "https://bet88ec.com/",
        urlBaiViet: "https://bet88ec.com/kinh-nghiem-lo-de/"
      },
      "42": {
        urlChinh: "https://88betag.com/",
        urlBaiViet: "https://88betag.com/keo-chau-a-la-gi/"
      }
    };

    let currentCode = null;
    const clk = generateRandom("0123456789", 10);
    const btn = document.getElementById("startBtn");

    function generateRandom(charset, length) {
      let result = '';
      for (let i = 0; i < length; i++) {
        result += charset.charAt(Math.floor(Math.random() * charset.length));
      }
      return result;
    }

    async function startMission() {
      const id = document.getElementById("missionSelect").value;
      if (!missions[id]) {
        alert("Vui l√≤ng ch·ªçn nhi·ªám v·ª• h·ª£p l·ªá.");
        return;
      }
      const cfg = missions[id];
      const countdown = document.getElementById("countdown");
      const progress = document.getElementById("progressBar");
      const codeBox = document.getElementById("codeBox");

      btn.disabled = true;
      countdown.textContent = "";
      codeBox.style.display = "none";
      document.getElementById("codeValue").textContent = "...";
      progress.style.width = "0%";
      currentCode = null;

      try {
        await guiRequestLan1(cfg);
        await delay(1000);
        await guiRequestLan2(cfg);
        await delay(1000);
      } catch (e) {
        alert("‚ùå L·ªói.");
        btn.disabled = false;
        return;
      }

      const startTime = Date.now();
      const totalTime = 75000;

      const interval = setInterval(async () => {
        const elapsed = Date.now() - startTime;
        const remaining = Math.max(0, Math.ceil((totalTime - elapsed) / 1000));
        const percent = Math.min(100, (elapsed / totalTime) * 100);

        countdown.textContent = `‚è≥ Vui l√≤ng ƒë·ª£i ${remaining} gi√¢y...`;
        progress.style.width = percent + "%";

        if (elapsed >= totalTime) {
          clearInterval(interval);
          countdown.textContent = "‚úÖ Th√†nh c√¥ng!";
          try {
            currentCode = await layMa(cfg);
            document.getElementById("codeValue").textContent = currentCode || "Kh√¥ng l·∫•y ƒë∆∞·ª£c m√£";
            codeBox.style.display = "block";
          } catch (e) {
            alert("‚ùå L·ªói khi l·∫•y m√£.");
          }
          btn.disabled = false;
        }
      }, 500);
    }

    function delay(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    async function guiRequestLan1(cfg) {
      const token = `${Date.now()},${cfg.urlChinh},https://www.google.com/,IOS900,hidden,nullNO`;
      const body = `url_order=${encodeURIComponent(cfg.urlChinh)}&ref=${encodeURIComponent("https://www.google.com/")}&TOP_NUT=34&LEFT_NUT=42&NO_NUT=NO`;
      return fetch(`https://traffic-user.net/GET_VUATRAFFIC.php?token=${token}&clk=${clk}`, {
        method: "POST",
        headers: { "content-type": "application/x-www-form-urlencoded" },
        body: body
      });
    }

    async function guiRequestLan2(cfg) {
      const token = `${Date.now()},${cfg.urlBaiViet},${cfg.urlChinh},IOS900,hidden,nullNO`;
      const body = `url_order=${encodeURIComponent(cfg.urlBaiViet)}&ref=${encodeURIComponent(cfg.urlChinh)}&TOP_NUT=38&LEFT_NUT=3&NO_NUT=NO`;
      return fetch(`https://traffic-user.net/GET_VUATRAFFIC.php?token=${token}&clk=${clk}`, {
        method: "POST",
        headers: { "content-type": "application/x-www-form-urlencoded" },
        body: body
      });
    }

    async function layMa(cfg) {
      const randomCode = generateRandom('ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789', 10);
      const url = `https://traffic-user.net/GET_MA.php?codexn=${randomCode}&url=${encodeURIComponent(cfg.urlBaiViet)}&loai_traffic=${encodeURIComponent(cfg.urlChinh)}&clk=${clk}`;
      const res = await fetch(url, { method: "POST" });
      const html = await res.text();
      const match = html.match(/<span[^>]*id=["']layma_me_vuatraffic["'][^>]*>\s*([\d]{4,})\s*<\/span>/i);
      return match ? match[1].trim() : null;
    }

    function copyCode() {
      if (!currentCode) return;
      navigator.clipboard.writeText(currentCode).then(() => {
        alert("‚úÖ ƒê√£ copy m√£!");
      });
    }
  </script>
</body>
</html>
